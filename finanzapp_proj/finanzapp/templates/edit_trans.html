{% extends 'base.html' %}
{% block content %}
<div class="app-shell">
  <section class="panel">
    <div class="section-header">
      <div>
        <span class="eyebrow">Editar gasto</span>
        <h2>Modificar transacción</h2>
        <p class="text-muted">Ajusta descripción, fecha o categoría.</p>
      </div>
    </div>
    <form action="/actualizarTrans/{{ transaction.id }}" method="post" class="panel-form">
      {% csrf_token %}
      <div class="field-grid">
        <div class="form-group">
          <label for="{{ form.category.id_for_label }}">Categoría</label>
          <select name="{{ form.category.name }}" id="{{ form.category.id_for_label }}" class="form-control">
            {% for choice in form.category.field.choices %}
              <option value="{{ choice.0 }}" {% if choice.0 == form.category.value %}selected{% endif %}>{{ choice.1 }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group">
          <label for="{{ form.amount.id_for_label }}">Monto</label>
          <input type="number" class="form-control" id="{{ form.amount.id_for_label }}" name="{{ form.amount.name }}" value="{{ form.amount.value|floatformat }}" required>
        </div>
        <div class="form-group">
          <label for="{{ form.date.id_for_label }}">Fecha</label>
          <input type="date" class="form-control" id="{{ form.date.id_for_label }}" name="{{ form.date.name }}" value="{{ form.date.value|date:'Y-m-d' }}">
        </div>
        <div class="form-group" style="grid-column: 1 / -1;">
          <label for="{{ form.description.id_for_label }}">Descripción</label>
          <textarea class="form-control" id="{{ form.description.id_for_label }}" name="{{ form.description.html_name }}" cols="40" rows="5">{{ form.description.value }}</textarea>
        </div>
      </div>
      <div class="form-actions">
        <button type="submit" class="btn btn-success btn-lg px-3 text-light">Actualizar</button>
        <a href="/list" class="btn btn-outline-dark btn-lg px-3">Cancelar</a>
      </div>
    </form>
  </section>
</div>
{% endblock %}
